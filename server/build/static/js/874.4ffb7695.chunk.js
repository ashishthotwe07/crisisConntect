"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[874],{7874:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var o=r(5043),s=r(9958),a=r(579);const c=e=>{let{_id:t,type:r,address:o,status:s}=e;return(0,a.jsx)("li",{className:"border border-gray-200 rounded-md shadow-md",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:r}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:o}),(0,a.jsx)("button",{onClick:async()=>{try{if(!(await fetch("http://localhost:3000/api/emergency/reports/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({status:"resolved"===s?"Reported":"resolved"})})).ok)throw new Error("Failed to update report status")}catch(e){console.error("Error updating report status:",e)}},className:"block mt-4 text-sm font-medium ".concat("resolved"===s?"text-red-600 hover:text-red-500":"text-green-600 hover:text-green-500"),children:"resolved"===s?"Mark As Unresolved":"Mark As Resolved"})]})})},n=()=>{const e=(0,s.io)("http://localhost:3000"),[t,r]=(0,o.useState)([]);(0,o.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=await fetch("http://localhost:3000/api/emergency/users/reports",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to fetch reports");const t=await e.json();r(t.data)}catch(e){console.error("Error fetching reports:",e)}};return e.on("updatedNotification",(e=>{n()})),(0,a.jsx)("div",{className:"container mx-auto mt-8",children:(0,a.jsx)("ul",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(((e,t)=>(0,a.jsx)(c,{...e},t)))})})}}}]);
//# sourceMappingURL=874.4ffb7695.chunk.js.map